<div class="create-post-wrapper">
    <div class="col-md-6 pt-3">
        <div style="position: relative; border: 1px solid #ced4da; border-radius: 4px;">
            <textarea [(ngModel)]="message" placeholder="Text" class="form-control" 
                rows="5" maxlength="500" #msgInput (keydown.enter)="confirmText(msgInput.value);false"></textarea>
            <div class="letter-count">{{message.length}}/500</div>
        </div>
        <div class="custom-file mt-3">
            <input type="file" class="custom-file-input" id="customFile" (change)="handleFileInput($event.target.files)">
            <label class="custom-file-label" for="customFile">Choose file</label>
        </div>
        
        <div class="files-list" *ngFor="let file of files; let i = index">
            <div class="single-file">
                <div class="file-icon">
                     <i class="far fa-file-image fa-3x"></i>
                 </div>
                 <div class="info">
                     <h4 class="name">{{ file?.name }}</h4>
                     <p class="size">{{ formatBytes(file?.size) }}</p>
                     <div class="progress">
                         <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" 
                            aria-valuemin="0" aria-valuemax="100" [style.width]="file.progress + '%'">
                        </div>
                     </div>
                 </div>
                 <div class="delete" (click)="deleteFile(i)">
                     <i class="far fa-trash-alt "></i>
                 </div>
             </div>
        </div>
        
        <div class="group-btn">
            <button type="button" class="btn btn-outline-primary mr-2" (click)="cancel()">Cancel</button>
            <button [disabled]="!canPost()" type="button" class="btn btn-primary" (click)="post()">Post</button>
        </div>
    </div>
</div>
